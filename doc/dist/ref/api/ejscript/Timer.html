<!DOCTYPE html>
<html>
<head>
   <title>Class Timer</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>Timer</h1>
<div class='classBlock'>
<table class='classHead' title='Timer'>
   <tr><td><strong>Module</strong></td><td>ejs</td></tr>
   <tr><td><strong>Definition</strong></td><td> class Timer</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>Timer <img src='images/inherit.gif' alt='inherit'/> <a href='Object.html'>Object</a><tr><td><strong>Stability</strong></td><td>Prototype.</td></tr>
       </td></tr>
</table>

<p class='classBrief'>Timers manage the execution of functions at some point in the future.</p>

<p class='classDescription'>Timers may run once, or they can be 
scheduled to run repeatedly, until stopped by calling the <a href='#stop'>stop()</a> method. Timers are scheduled with a granularity 
of 1 millisecond. However, many systems are not capable of supporting this granularity and make only best efforts 
to schedule events at the desired time.</p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' title='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='drift'></a>
   <tr><td nowrap align='center'> get set </td><td>drift</td><td><a href='Boolean.html'>Boolean</a></td><td>The current drift setting. If drift is true, the timer is allowed to drift its execution time due to 
other system events when attempting to optimize overall system performance.
If the drift value is set to false, the timer is scheduled so that the period between callback start 
times does not gradually drift. When using non-drifting timers, the timer subsystem will 
delay other low priority events or timers, if necessary to ensure non-drifting timers are scheduled exactly. 
0.</td></tr>
<a name='onerror'></a>
   <tr><td nowrap align='center'> get set </td><td>onerror</td><td><a href='Function.html'>Function</a></td><td>Error callback function for exceptions inside the Timer callback
The callback is invoked with the following signature:
function callback(error: Error): Void. </td></tr>
<a name='period'></a>
   <tr><td nowrap align='center'> get set </td><td>period</td><td><a href='Number.html'>Number</a></td><td>Timer delay period in milliseconds. Changing a timer period will not reschedule a currently scheduled timer.
The period will be used to schedule the next invocation. To change the current period, stop the timer and
restart it.</td></tr>
<a name='repeat'></a>
   <tr><td nowrap align='center'> get set </td><td>repeat</td><td><a href='Boolean.html'>Boolean</a></td><td>Timer repeatability. If true, the timer will be repeated invoked every <a href='#period'>period</a> milliseconds.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='ClassMethods'></a>
<h2 class='classSection'>Timer Class Methods</h2>
<table class='apiIndex' title='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <p>(No own class methods defined)</p></table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<a name='InstanceMethods'></a>
<h2 class='classSection'>Timer Instance Methods</h2>
<table class='apiIndex' title='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#Timer'><b>Timer</b></a>(period: <a href='Number.html'>Number</a>, callback: <a href='Function.html'>Function</a>, args: <a href='Array.html'>Array</a>)</tr><tr class='apiBrief'><td>&nbsp;</td><td>Constructor for Timer.</td></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#restart'><b>restart</b></a>(when: <a href='Number.html'>Number</a> = null): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Reschedule a timer.</td></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#start'><b>start</b></a>(): <a href='Timer.html'>Timer</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Start a timer running.</td></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#stop'><b>stop</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Stop a timer running.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='Timer'></a>
<div class='api'>
<div class='apiSig'>    Timer(period: <a href='Number.html'>Number</a>, callback: <a href='Function.html'>Function</a>, args: <a href='Array.html'>Array</a>)
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Constructor for Timer. The timer is will not be called until <a href='#start'>start</a> is called.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>period: <a href='Number.html'>Number</a> </td><td>Delay in milliseconds before the timer will run.</td></tr><tr class='param'><td class='param'>callback: <a href='Function.html'>Function</a> </td><td>Function to invoke when the timer is due. The callback is invoked with the following signature: function callback(error: Error): Void.</td></tr><tr class='param'><td class='param'>args: <a href='Array.html'>Array</a> </td><td>Callback arguments.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='restart'></a>
<div class='api'>
<div class='apiSig'>    restart(when: <a href='Number.html'>Number</a> = null): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Reschedule a timer. This will stop the timer if it is currently scheduled, then reschedule the timer.
If the <a href='#when'>when</a> argument is provided, the timer period will be set before starting.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>when: <a href='Number.html'>Number</a> </td><td>Time period for when to next run the timer. [default: null]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='start'></a>
<div class='api'>
<div class='apiSig'>    start(): <a href='Timer.html'>Timer</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Start a timer running. The timer will be repeatedly invoked if the <a href='#repeat'>repeat</a> property is true, otherwise it 
will be invoked once.
When the timer callback is invoked, it will be invoked with the value of "this" set to the timer unless the
function has bound a "this" value via Function.bind.</dd></dl>
<dl><dt>Returns</dt>
<dd>The timer instance. This helps chaining. For example: var timer = Timer(1000, sayHello).start().</dd></dl>
</div>
</div>
<hr />
<a name='stop'></a>
<div class='api'>
<div class='apiSig'>    stop(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Stop a timer running. Once stopped a timer can be restarted by calling <a href='#start'>start</a>. </dd></dl>
</div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="https://www.embedthis.com/">       Embedthis Software LLC, 2003-2014. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
