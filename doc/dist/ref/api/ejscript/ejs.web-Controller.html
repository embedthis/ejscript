<!DOCTYPE html>
<html>
<head>
   <title>Class Controller</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>Controller</h1>
<div class='classBlock'>
<table class='classHead' title='Controller'>
   <tr><td><strong>Module</strong></td><td>ejs.web</td></tr>
   <tr><td><strong>Definition</strong></td><td> class Controller</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>Controller <img src='images/inherit.gif' alt='inherit'/> <a href='Object.html'>Object</a><tr><td><strong>Specified</strong></td><td>ejscript-2.5</td></tr>
<tr><td><strong>Stability</strong></td><td>Prototype.</td></tr>
       </td></tr>
</table>

<p class='classBrief'>Web framework controller class.</p>

<p class='classDescription'>The Controller class is part of the Ejscript Model View Controller (MVC) web
framework. Controller class instances can accept web requests and direct them to action methods for servicing
which generates the response. Controllers are responsible for either generating output for the client or invoking
a View which will create the response. By convention, all Controllers should be defined with a "Controller" 
suffix. This permits similar Controller and Model classes to exist in the same namespace.<br/><br/>Action methods will autoFinalize by calling Request.autoFinalize unless Request.dontAutoFinalize has been called.
If the Controller action wants to keep the request connection to the client open, you must call dontAutoFinalize
before returning from the action.</p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' title='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='absHome'></a>
   <tr><td nowrap align='center'>get </td><td>absHome</td><td><a href='Uri.html'>Uri</a></td><td>Uri for the top-level of the application. This is an absolute Uri that includes scheme and host components.
See <a href='#home'>home</a> to get a relative Uri.</td></tr>
<a name='actionName'></a>
   <tr><td nowrap align='center'></td><td>actionName</td><td><a href='String.html'>String</a></td><td>Name of the Controller action method being run for this request. </td></tr>
<a name='autoFinalizing'></a>
   <tr><td nowrap align='center'>get </td><td>autoFinalizing</td><td><a href='Boolean.html'>Boolean</a></td><td>Control whether auto-finalizing will be used for the request. If autoFinalizing is false, a request must
call <a href='#finalize'>finalize()</a> to signal the end of write data. If autoFinalize is true, the Request class will automatically 
call finalize at the conclusion of the request.
Applications that wish to keep the request open to the client can suppress auto-finalization by 
setting autoFinalizing to false or by calling dontAutoFinalize(). This property defaults to true.</td></tr>
<a name='cacheIndex'></a>
   <tr><td nowrap align='center'></td><td>cacheIndex</td><td><a href='String.html'>String</a></td><td>null </td></tr>
<a name='cacheItem'></a>
   <tr><td nowrap align='center'></td><td>cacheItem</td><td><a href='Object.html'>Object</a></td><td>null </td></tr>
<a name='cacheName'></a>
   <tr><td nowrap align='center'></td><td>cacheName</td><td><a href='String.html'>String</a></td><td>null </td></tr>
<a name='cacheOptions'></a>
   <tr><td nowrap align='center'></td><td>cacheOptions</td><td><a href='Object.html'>Object</a></td><td>null </td></tr>
<a name='config'></a>
   <tr><td nowrap align='center'></td><td>config</td><td><a href='Object.html'>Object</a></td><td>Configuration settings. This is a reference to <a href='ejs.web-Request.html#config.'>Request.config</a>. </td></tr>
<a name='controllerName'></a>
   <tr><td nowrap align='center'></td><td>controllerName</td><td><a href='String.html'>String</a></td><td>Pascal case controller name. </td></tr>
<a name='log'></a>
   <tr><td nowrap align='center'></td><td>log</td><td><a href='Logger.html'>Logger</a></td><td>Logger stream - reference to <a href='ejs.web-Request.html#log.'>Request.log</a>.  </td></tr>
<a name='finalized'></a>
   <tr><td nowrap align='center'>get </td><td>finalized</td><td><a href='Boolean.html'>Boolean</a></td><td>Has the request output been finalized. </td></tr>
<a name='home'></a>
   <tr><td nowrap align='center'>get </td><td>home</td><td><a href='Uri.html'>Uri</a></td><td>Home URI for the application. This is a relative Uri from the current URI to the 
the top-most directory level of the application.</td></tr>
<a name='flash'></a>
   <tr><td nowrap align='center'>get </td><td>flash</td><td><a href='Object.html'>Object</a></td><td>Notification "flash" messages to pass to the next request (only). By convention, the following keys are used.
error: Negative errors (Warnings and errors), inform: Informational / postitive feedback (note),
warn: Negative feedback (Warnings and errors), *:: Other feedback (reminders, suggestions...).</td></tr>
<a name='params'></a>
   <tr><td nowrap align='center'></td><td>params</td><td><a href='Object.html'>Object</a></td><td>Form and query parameters. This is a reference to the <a href='ejs.web-Request.html#params'>Request.params</a> object.</td></tr>
<a name='pathInfo'></a>
   <tr><td nowrap align='center'>get </td><td>pathInfo</td><td><a href='String.html'>String</a></td><td>Location of the request within the application.0. This is the portion of the request URL after the scriptName. 
The pathInfo is originally derrived from uri.path after splitting off the scriptName. Changes to the uri or 
scriptName properties will not affect the pathInfo property.</td></tr>
<a name='session'></a>
   <tr><td nowrap align='center'>get </td><td>session</td><td><a href='ejs.web-Session.html'>Session</a></td><td>Session state object. The session state object can be used to share state between requests.
If a session has not already been created, accessing this property automatically creates a new session 
and sets the <a href='ejs.web-Request.html#sessionID'>Request.sessionID</a> property and a cookie containing a session ID sent to the client 
with the response.
To test if a session has been created, test the sessionID property which will not auto-create a session.
Objects are stored in the session state using JSON serialization.</td></tr>
<a name='request'></a>
   <tr><td nowrap align='center'></td><td>request</td><td><a href='ejs.web-Request.html'>Request</a></td><td>Reference to the current <a href='#Request'>Request</a> object. </td></tr>
<a name='uri'></a>
   <tr><td nowrap align='center'>get </td><td>uri</td><td><a href='Uri.html'>Uri</a></td><td>The current request URI. This property is read-only and is dynamically computed from the originalUri combined
with the current scheme, host, port, scriptName, pathInfo, query and reference property values. 
The "uri" property has fields for: scheme, host, port, path, query and reference.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='ClassMethods'></a>
<h2 class='classSection'>Controller Class Methods</h2>
<table class='apiIndex' title='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'>static </td><td><a href='#cache'><b>cache</b></a>(controller, actions: <a href='Object.html'>Object</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Controler action caching.</td></tr>
   <tr class='apiDef'><td class='apiType'>static </td><td><a href='#create'><b>create</b></a>(request: <a href='ejs.web-Request.html'>Request</a>, cname: <a href='String.html'>String</a> = null): <a href='ejs.web-Controller.html'>Controller</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Static factory method to create and initialize a controller.</td></tr>
   <tr class='apiDef'><td class='apiType'>static </td><td><a href='#updateCache'><b>updateCache</b></a>(controller, actions: <a href='Object.html'>Object</a>, data: <a href='Object.html'>Object</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Update the cache contents.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<a name='InstanceMethods'></a>
<h2 class='classSection'>Controller Instance Methods</h2>
<table class='apiIndex' title='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#Controller'><b>Controller</b></a>(req: <a href='ejs.web-Request.html'>Request</a> = null)</tr><tr class='apiBrief'><td>&nbsp;</td><td>Create and initialize a controller.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#after'><b>after</b></a>(fn, options: <a href='Object.html'>Object</a> = null): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Run an check function after running the action.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#app'><b>app</b></a>(request: <a href='ejs.web-Request.html'>Request</a>, aname: <a href='String.html'>String</a> = null): <a href='Object.html'>Object</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Controller web application.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#autoFinalize'><b>autoFinalize</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Finalize the request if <a href='#autoFinalizing'>autoFinalizing</a> is true.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#before'><b>before</b></a>(fn, options: <a href='Object.html'>Object</a> = null): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Run an action checker before running the action.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#clearFlash'><b>clearFlash</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Clear previous flags messages.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#dontAutoFinalize'><b>dontAutoFinalize</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Stop auto-finalizing the request.0.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#error'><b>error</b></a>(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Set an error flash notification message.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#finalize'><b>finalize</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Signals the end of any and all response data and flushes any buffered write data to the client.(.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#link'><b>link</b></a>(target: <a href='Object.html'>Object</a>): <a href='Uri.html'>Uri</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Create a URI link.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#flush'><b>flush</b></a>(dir: <a href='Number.html'>Number</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Flush the stream and underlying streams.Flush request data.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#header'><b>header</b></a>(key: <a href='String.html'>String</a>): <a href='String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Get a request header by keyword.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#inform'><b>inform</b></a>(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Set an informational flash notification message.</td></tr>
   <tr class='apiDef'><td class='apiType'>action </td><td><a href='#missing'><b>missing</b></a>()</tr><tr class='apiBrief'><td>&nbsp;</td><td>Missing action method.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#notify'><b>notify</b></a>(key: <a href='String.html'>String</a>, msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Set a transient flash notification message.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#on'><b>on</b></a>(name, observer: <a href='Function.html'>Function</a>): <a href='ejs.web-Controller.html'>Controller</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Add an observer to the stream for the named events.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#read'><b>read</b></a>(buffer: <a href='ByteArray.html'>ByteArray</a>, offset: <a href='Number.html'>Number</a>, count: <a href='Number.html'>Number</a> = -1): <a href='Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Read a data from the stream.If the request is posting a form, i.e.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#redirect'><b>redirect</b></a>(where: <a href='Object.html'>Object</a>, status: <a href='Number.html'>Number</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Redirect the client to the given URL.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#removeCheckers'><b>removeCheckers</b></a>(): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Remove all defined checkers on the Controller.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#setStatus'><b>setStatus</b></a>(status: <a href='Number.html'>Number</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set the (proposed) Http response status code.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#setHeader'><b>setHeader</b></a>(key: <a href='String.html'>String</a>, value: <a href='String.html'>String</a>, overwrite: <a href='Boolean.html'>Boolean</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set a Http response header in <a href='#responseHeaders'>responseHeaders</a>.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#setHeaders'><b>setHeaders</b></a>(headers: <a href='Object.html'>Object</a>, overwrite: <a href='Boolean.html'>Boolean</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set multiple Http response headers in <a href='#responseHeaders'>responseHeaders</a>.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#warn'><b>warn</b></a>(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Set a warning flash notification.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#write'><b>write</b></a>(args: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Low-level write data to the client.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeCached'><b>writeCached</b></a>(): <a href='Boolean.html'>Boolean</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Manually write out cached content to the client.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeContent'><b>writeContent</b></a>(data): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>TODO - DEBUG
Write content based on the requested accept mime type.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeError'><b>writeError</b></a>(status: <a href='Number.html'>Number</a>, msgs: <a href='Array.html'>Array</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render an error message as the response.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeFile'><b>writeFile</b></a>(filename: <a href='Path.html'>Path</a>): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render file content back to the client.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writePartialTemplate'><b>writePartialTemplate</b></a>(path: <a href='Path.html'>Path</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a partial response using template file.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeTemplate'><b>writeTemplate</b></a>(path: <a href='Path.html'>Path</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a view template from a path.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeTemplateLiteral'><b>writeTemplateLiteral</b></a>(page: <a href='String.html'>String</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a view template from a string literal.</td></tr>
   <tr class='apiDef'><td class='apiType'></td><td><a href='#writeView'><b>writeView</b></a>(viewName = null, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a view template.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='Controller'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  Controller(req: <a href='ejs.web-Request.html'>Request</a> = null)
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Create and initialize a controller. This may be called directly or via the Controller.create factory method.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>req: <a href='ejs.web-Request.html'>Request</a> </td><td>Web request object 8. [default: null]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='after'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  after(fn, options: <a href='Object.html'>Object</a> = null): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Run an check function after running the action. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>fn </td><td>Function callback to invoke.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Check function options. [default: null]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>only</td><td>[String|Array] Only run the checker for this action name. This can be a string action name or an array of action names.</td></tr>
<td class='param'>except</td><td>[String|Array] Run the check function for all actions except this name. This can be a string action name or an array of action names.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='app'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  app(request: <a href='ejs.web-Request.html'>Request</a>, aname: <a href='String.html'>String</a> = null): <a href='Object.html'>Object</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Controller web application. This function will run a controller action method and return a response object. 
The action method may be specified by the <a href='#aname'>aname</a> parameter or it may be supplied via 
<a href='ejs.web-Request.html#params.action.'>Request.params.action</a>. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>request: <a href='ejs.web-Request.html'>Request</a> </td><td>Request object.</td></tr><tr class='param'><td class='param'>aname: <a href='String.html'>String</a> </td><td>Optional action method name. If not supplied, params.action is consulted. If that is absent too,  "index" is used as the action method name. [default: null]</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>A response object hash {status, headers, body} or null if writing directly using the request object.</dd></dl>
</div>
</div>
<hr />
<a name='autoFinalize'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  autoFinalize(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Finalize the request if <a href='#autoFinalizing'>autoFinalizing</a> is true. Finalization signals the end of any write data 
and flushes any buffered write data to the client. This routine is used by frameworks to finalize
requests if required.</dd></dl>
</div>
</div>
<hr />
<a name='before'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  before(fn, options: <a href='Object.html'>Object</a> = null): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Run an action checker before running the action. If the checker function writes a response, the normal
processing of the requested action will be prevented. Note that checkers do not autoFinalize so if the
checker does write a response, it must call finalize.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>fn </td><td>Function callback to invoke.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Checker options. [default: null]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>only</td><td>[String|Array] Only run the checker for this action name. This can be a string action name or an array of action names.</td></tr>
<td class='param'>except</td><td>[String|Array] Run the checker for all actions except this name This can be a string action name or an array of action names.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='cache'></a>
<div class='api'>
<div class='apiSig'>static  cache(controller, actions: <a href='Object.html'>Object</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Controler action caching. This caches the entire output of an action (including generated view).
Caching is disabled/enabled via the ejsrc config.cache.actions.enable field. It is enabled by default.
Caching may be used for any HTTP method, though typically it is most useful for state-less GET requests.
Output data is uniquely cached for requests with different URI post data or query parameters.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>controller </td><td>Controller class. This can be a Controller class object, "this" or a String controller name. You can specify "this" in static code or can also use "this" in class instance code and this routine will determine the underlying controller class.</td></tr><tr class='param'><td class='param'>actions: <a href='Object.html'>Object</a> </td><td>Action string or array of actions.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Cache control options. Default options for all action caching can be provided via the  ejsrc config.cache.actions field. This is frequently used to specifiy a default lifespan for cached data. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>mode</td><td>Client caching mode. Defaults to "server" if unset. If mode is set to "client", a Cache-Control  header will be sent to the client with the caching "max-age" set to the lifespan. This causes the client  to serve client-cached content and to not contact the server at all until the max-age expires.  If mode is set to "manual", the output from the action will be cached, but the action routine will  always be called. To use the cached content in this mode, call <a href='#writeCached'>writeCached()</a> in the action method.  The default mode is "server" which caches content at the server for the specified lifespan. In server mode,  the client will cache requests, but will always revalidate the request with the server. If the server-side  content has not expired, a HTTP Not-Modified (304) response will be given and the client will use its  client-side cached content.  Use "client" mode for static content that will rarely change and for which using "reload" in the browser is an adequate solution to force a refresh. Use "server" mode for dynamic content in conjunction with  <a href='#updateCache'>updateCache</a> to expire or update cache contents. Use "manual" mode when the action routine needs to  determine if cached content can be used on a case by case basis.  If a client browser clicks reload, the client cached and server cached content will be ignored and the  action method will be always invoked.</td></tr>
<td class='param'>lifespan</td><td>Time in seconds for the cached output to persist.</td></tr>
<td class='param'>client</td><td>Cache-Control header to send to the client to control caching in the client. Use this for explicit control of the Cache-Control header and thus control of caching in the client. This can be used to set a "max-age" for cached data in the client. These are some of the HTTP/1.1 Cache-Control keywords that can be used in the client option are: "max-age" Max time in seconds the resource is considered fresh. "s-maxage" Max time in seconds the resource is considered fresh from a shared cache. "public" marks authenticated responses as cacheable. "private" shared caches may not store the response. "no-cache" cache must re-submit request for validation before using cached copy. "no-store" response may not be stored in a cache. "must-revalidate" forces clients to revalidate the request with the server. "proxy-revalidate" similar to must-revalidate except only for proxy caches> //  TODO - unclear, clarify.</td></tr>
<td class='param'>uri</td><td>URI and parameter to further differentiate cached content. If supplied, different cache data can be stored for each URI that applies to the given controller/action. If the URI is set to "*"" all  URIs for that action/controller are uniquely cached. If the request has POST data, the URI may include such post data in a query format. E.g. {uri: /buy?item=scarf&quantity=1}.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>cache(DashController, "index", {lifespan: 200})
cache(this, ["index", "edit", "show"])
cache(this, "index", false)</pre></dd></dl>
</div>
</div>
<hr />
<a name='clearFlash'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  clearFlash(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Clear previous flags messages. Useful when using client mode caching for an action.</dd></dl>
<dl><dt>Stability</dt>
<dd>Prototype.</dd></dl>
</div>
</div>
<hr />
<a name='create'></a>
<div class='api'>
<div class='apiSig'>static  create(request: <a href='ejs.web-Request.html'>Request</a>, cname: <a href='String.html'>String</a> = null): <a href='ejs.web-Controller.html'>Controller</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Static factory method to create and initialize a controller. The controller class is specified by 
params["controller"] which should be set to the controller name without the "Controller" suffix. 
This call expects the controller class to be loaded. Called by Mvc.load().</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>request: <a href='ejs.web-Request.html'>Request</a> </td><td>Web request object.</td></tr><tr class='param'><td class='param'>cname: <a href='String.html'>String</a> </td><td>Controller class name. This should be the name of the Controller class without the "Controller" suffix. X. [default: null]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='dontAutoFinalize'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  dontAutoFinalize(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Stop auto-finalizing the request.0. This will set <a href='#autoFinalizing'>autoFinalizing</a> to false. Some web frameworks will 
"auto-finalize" requests by calling finalize() automatically at the conclusion of the request. 
Applications that wish to keep the connection open to the client can defeat this auto-finalization by 
calling dontAutoFinalize().</dd></dl>
</div>
</div>
<hr />
<a name='error'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  error(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Set an error flash notification message. Flash messages persist for only one request and are a convenient way to pass state information or 
feedback messages to the next request. To use flash messages, setupFlash() and finalizeFlash() must 
be called before and after the request is processed. HttpServer.process will call setupFlash and finalizeFlash 
automatically.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>msg: <a href='String.html'>String</a> </td><td>Message to store.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='finalize'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  finalize(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Signals the end of any and all response data and flushes any buffered write data to the client.(. If the request has already been finalized, this call has no additional effect.</dd></dl>
</div>
</div>
<hr />
<a name='link'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  link(target: <a href='Object.html'>Object</a>): <a href='Uri.html'>Uri</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Create a URI link. The target parameter may contain partial or complete URI information. The missing parts 
are supplied using the current request and route tables. The resulting URI is a normalized, server-local 
URI (begins with "/"). The URI will include any defined scriptName, but will not include scheme, host or 
port components.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>target: <a href='Object.html'>Object</a> </td><td>The URI target. The target parameter can be a URI string or object hash of components. If the  target is a string, it is may contain an absolute or relative URI. If the target has an absolute URI path,  that path is used unmodified. If the target is a relative URI, it is appended to the current request URI  path.  The target can also be an object hash of URI components: scheme, host, port, path, reference and query. If these component properties are supplied, these will be combined to create a URI.  The URI will be created according to the route URI template. The template may be explicitly specified via a "route" target property. Otherwise, if an "action" property is specified, the route of the same name will be used. If these don't result in a usable route, the "default" route will be used. See the Router for more details.  If the target is a string that begins with " @" it will be interpreted as a controller/action pair of the  form " @Controller/action". If the "controller/" portion is absent, the current controller is used. If  the action component is missing, the "index" action is used. A bare " @" refers to the "index" action  of the current controller.  Lastly, the target object hash may contain an override "uri" property. If specified, the value of the  "uri" property will be returned and all other properties will be ignored.</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>scheme</td><td>String URI scheme portion.</td></tr>
<td class='param'>host</td><td>String URI host portion.</td></tr>
<td class='param'>port</td><td>Number URI port number.</td></tr>
<td class='param'>path</td><td>String URI path portion.</td></tr>
<td class='param'>reference</td><td>String URI path reference. Does not include "#".</td></tr>
<td class='param'>query</td><td>String URI query parameters. Does not include "?".</td></tr>
<td class='param'>controller</td><td>String Controller name if using a Controller-based route. This can also be specified via the action option.</td></tr>
<td class='param'>action</td><td>String Action to invoke. This can be a URI string or a Controller action of the form.</td></tr>
<td class='param'>route</td><td>String Route name to use for the URI template.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A normalized, server-local Uri object. The returned URI will be an absolute URI.</dd></dl>
<dl><dt>Example</dt>
<dd><pre>Given a current request of http://example.com/samples/demo" and "r" == the current request:

r.link("images/splash.png")                  # "/samples/images/splash.png"
r.link("images/splash.png").complete(r.uri)  # "http://example.com/samples/images/splash.png"
r.link("images/splash.png").relative(r.uri)  # "images/splash.png"

r.link("http://example.com/index.html")
r.link("/path/to/index.html")
r.link("\@Controller/checkout")
r.link("\@Controller/")
r.link("\@checkout")
r.link("\@")
r.link({action: "checkout")
r.link({action: "logout", controller: "Admin")
r.link({action: "Admin/logout")
r.link({action: "\@Admin/logout")
r.link({uri: "http://example.com/checkout"})
r.link({route: "default", action: "\@checkout")
r.link({product: "candy", quantity: "10", template: "/cart/{product}/{quantity}}")</pre></dd></dl>
</div>
</div>
<hr />
<a name='flush'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  flush(dir: <a href='Number.html'>Number</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Flush the stream and underlying streams.Flush request data. A supplied flush <a href='#direction'>direction</a> argument modifies the effect of this call.
If direction is set to Stream.READ, then all read data is discarded. If direction is set to Stream.WRITE, 
any buffered data is written. Stream.BOTH will cause both directions to be flushed. If the stream is in 
sync mode, this call will block until all data is written. If the stream is in async mode, it will attempt 
to write all data but will return immediately. Defaults to Stream.WRITE.Calling flush(Sream.WRITE) or finalize() is required to ensure buffered write data is sent 
to the client. Flushing the read direction is ignored.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>dir: <a href='Number.html'>Number</a> </td><td>Direction to flush. Set to <a href='#READ'>READ</a> <a href='#WRITE'>WRITE</a> or <a href='#BOTH'>BOTH</a>.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='header'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  header(key: <a href='String.html'>String</a>): <a href='String.html'>String</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Get a request header by keyword. Headers supplied by the remote client are stored in lower-case. 
Headers defined on the server-side preserve case. This routine supports both by doing a case-insensitive lookup.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>key: <a href='String.html'>String</a> </td><td>Header key value to retrieve. The key match is case insensitive.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>The header value.</dd></dl>
</div>
</div>
<hr />
<a name='inform'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  inform(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Set an informational flash notification message. Flash messages persist for only one request and are a convenient way to pass state information or 
feedback messages to the next request. To use flash messages, setupFlash() and finalizeFlash() must 
be called before and after the request is processed. HttpServer.process will call setupFlash and finalizeFlash 
automatically.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>msg: <a href='String.html'>String</a> </td><td>Message to store.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='missing'></a>
<div class='api'>
<div class='apiSig'>  action  missing()
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Missing action method. This method will be called if the requested action routine does not exist.
It should be overridden in user controller classes by using the "override" keyword.</dd></dl>
</div>
</div>
<hr />
<a name='notify'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  notify(key: <a href='String.html'>String</a>, msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Set a transient flash notification message. Flash messages persist for only one request and are a convenient
way to pass state information or feedback messages to the next request. To use flash messages, 
setupFlash() and finalizeFlash() must be called before and after the request is processed. HttpServer.process
will call setupFlash and finalizeFlash automatically.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>key: <a href='String.html'>String</a> </td><td>Flash message key.</td></tr><tr class='param'><td class='param'>msg: <a href='String.html'>String</a> </td><td>Message to store.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='on'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  on(name, observer: <a href='Function.html'>Function</a>): <a href='ejs.web-Controller.html'>Controller</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Add an observer to the stream for the named events. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>name: [String|Array]</td><td>Name of the event to listen for. The name may be an array of events.</td></tr><tr class='param'><td class='param'>observer: <a href='Function.html'>Function</a> </td><td>Callback observer function. The function is called with the following signature: function observer(event: String, ...args): Void.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' title='events'>
<td class='param'>readable</td><td>Issued when the stream becomes readable.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes writable.</td></tr>
<td class='param'>close</td><td>Issued when stream is being closed. 8.</td></tr>
<td class='param'>writable</td><td>Issued when the connection is writable to accept body data (PUT, POST).</td></tr>
<td class='param'>close</td><td>Issued when the request completes.</td></tr>
<td class='param'>error</td><td>Issued if the request does not complete or the connection disconnects. An error event is not  caused by non-200 status codes, these are regarded as valid return results. Rather, an error event will be issued when the request cannot return a complete, valid Http response to the client. All events are called with the signature: function (event: String, http: Http): Void.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='read'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  read(buffer: <a href='ByteArray.html'>ByteArray</a>, offset: <a href='Number.html'>Number</a>, count: <a href='Number.html'>Number</a> = -1): <a href='Number.html'>Number</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Read a data from the stream.If the request is posting a form, i.e. If data is available, the call will return immediately. 
If no data is available and the stream is in sync mode, the call will block until data is available.
If no data is available and the stream is in async mode, the call will not block and will return immediately.
In this case a "readable" event will be issued when data is available for reading.the Http ContentType header is set to 
"application/x-www-form-urlencoded", then the request object will not be created by the HttpServer until
all the form data is read and the <a href='#params'>params</a> collection created and populated with the form data. This permits form
data to be processed synchronously without having to use async/observer techniques to respond to readable
events. With all other content types, the Request object will be created and run before the incoming client 
data has been read. To read data in these situations, register an observer function to run when the
connection becomes "readable".</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>buffer: <a href='ByteArray.html'>ByteArray</a> </td><td>Destination byte array for read data.</td></tr><tr class='param'><td class='param'>offset: <a href='Number.html'>Number</a> </td><td>Offset in the byte array to place the data. If the offset is -1, then data is appended to the buffer write <a href='#position'>position</a> which is then updated. If offset is >= 0, the data is read  to the offset and the read pointer is set to the offset and the write pointer to one past the end of  the data just read.</td></tr><tr class='param'><td class='param'>count: <a href='Number.html'>Number</a> </td><td>Read up to this number of bytes. If -1, read as much as the buffer will hold up. If the  stream is of fixed and known length (such as a file) and the buffer is of sufficient size or is growable,  read the entire stream. If the buffer is of a fixed size, ready only what will fit into the buffer. [default: -1]</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' title='events'>
<td class='param'>readable</td><td>Issued when there is new read data available.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes empty. `.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A count of the bytes actually read. Returns null on EOF or errors.</dd></dl>
<dl><dt>Example</dt>
<dd><pre>request.on("readable", function(event, request) {
    var data = new byteArray
    if (read(data)) {
        print("Got " + data)
    } else {
        //  End of input, call finalize() when all output has been written
        request.finalize()
    }
})</pre></dd></dl>
</div>
</div>
<hr />
<a name='redirect'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  redirect(where: <a href='Object.html'>Object</a>, status: <a href='Number.html'>Number</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Redirect the client to the given URL. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>where: <a href='Object.html'>Object</a> </td><td>Url to redirect the client toward. This can be a relative or absolute string URL or it can be a hash of URL components. For example, the following are valid inputs: "../index.ejs",  "http://www.example.com/home.html", {action: "list"}.</td></tr><tr class='param'><td class='param'>status: <a href='Number.html'>Number</a> </td><td>Http status code to use in the redirection response. Defaults to 302. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='removeCheckers'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  removeCheckers(): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Remove all defined checkers on the Controller. 0.</dd></dl>
</div>
</div>
<hr />
<a name='setStatus'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  setStatus(status: <a href='Number.html'>Number</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Convenience routine to set the (proposed) Http response status code. This is equivalent to assigning 
to the <a href='#status'>status</a> property.</dd></dl>
</div>
</div>
<hr />
<a name='setHeader'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  setHeader(key: <a href='String.html'>String</a>, value: <a href='String.html'>String</a>, overwrite: <a href='Boolean.html'>Boolean</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Convenience routine to set a Http response header in <a href='#responseHeaders'>responseHeaders</a>. If a header has already been 
defined and <a href='#overwrite'>overwrite</a> is true, the header will be overwritten. NOTE: case is ignored in the header keyword.
Access <a href='#responseHeaders'>responseHeaders</a> to inspect the proposed response header set.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>key: <a href='String.html'>String</a> </td><td>The header keyword for the request, e.g. "accept".</td></tr><tr class='param'><td class='param'>value: <a href='String.html'>String</a> </td><td>The value to associate with the header, e.g. "yes".</td></tr><tr class='param'><td class='param'>overwrite: <a href='Boolean.html'>Boolean</a> </td><td>If the header is already defined and overwrite is true, then the new value will overwrite the old. If overwrite is false, the new value will be catenated to the old value with a ", " separator.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='setHeaders'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  setHeaders(headers: <a href='Object.html'>Object</a>, overwrite: <a href='Boolean.html'>Boolean</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Convenience routine to set multiple Http response headers in <a href='#responseHeaders'>responseHeaders</a>. Access <a href='#responseHeaders'>responseHeaders</a> to 
inspect the proposed response header set.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>headers: <a href='Object.html'>Object</a> </td><td>Set of headers to use.</td></tr><tr class='param'><td class='param'>overwrite: <a href='Boolean.html'>Boolean</a> </td><td>If the header is already defined and overwrite is true, then the new value will overwrite the old. If overwrite is false, the new value will be catenated to the old value with a ", " separator.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='updateCache'></a>
<div class='api'>
<div class='apiSig'>static  updateCache(controller, actions: <a href='Object.html'>Object</a>, data: <a href='Object.html'>Object</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Update the cache contents. This will manually update the cache contents for the given actions with the supplied data. If data is null,
then cached content will be immediately expired.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>controller </td><td>Controller class. This can be a Controller class object, "this" or a String controller name. You can specify "this" in static code or can also use "this" in class instance code and this routine will determine the underlying controller class.</td></tr><tr class='param'><td class='param'>actions: <a href='Object.html'>Object</a> </td><td>Action string or array of actions.</td></tr><tr class='param'><td class='param'>data: <a href='Object.html'>Object</a> </td><td>Object data to cache. Data is serialized using JSON and stored in the cache. Set to null to invalidate/expire cached data.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Cache control options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>uri</td><td>URI and parameter to further differentiate cached content. If supplied, different cache data can be stored for each URI that applies to the given controller/action. If the URI is set to "*"" all  URIs for that action/controller are uniquely cached. If the request has POST data, the URI may include such post data in a query format. E.g. {uri: /buy?item=scarf&quantity=1}.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='warn'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  warn(msg: <a href='String.html'>String</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Set a warning flash notification. Flash messages persist for only one request and are a convenient way to pass state information or 
feedback messages to the next request. To use flash messages, setupFlash() and finalizeFlash() must 
be called before and after the request is processed. HttpServer.process will call setupFlash and finalizeFlash 
automatically.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>msg: <a href='String.html'>String</a> </td><td>Message to store.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='write'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  write(args: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Low-level write data to the client. This will buffer the written data until either flush() or finalize() 
is called.
If an action method does call a write data back to the client and has not called finalize() or 
dontAutoFinalize(), a default view template will be generated when the action method returns.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>args: <a href='Array.html'>Array</a> </td><td>Arguments to write to the client. The args are converted to strings.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>The number of bytes written to the client.</dd></dl>
</div>
</div>
<hr />
<a name='writeCached'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeCached(): <a href='Boolean.html'>Boolean</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Manually write out cached content to the client. This routine will write non-expired cached data to the client. Caching for actions is enabled by
calling <a href='#cache'>cache()</a> in the Controller.</dd></dl>
<dl><dt>Returns</dt>
<dd>True if valid cached content was found to write to the client.</dd></dl>
</div>
</div>
<hr />
<a name='writeContent'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeContent(data): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>TODO - DEBUG
Write content based on the requested accept mime type. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>data </td><td>Data to send to the client.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='writeError'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeError(status: <a href='Number.html'>Number</a>, msgs: <a href='Array.html'>Array</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render an error message as the response. This call sets the response status and writes a HTML error message with the given arguments back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>status: <a href='Number.html'>Number</a> </td><td>Http response status code.</td></tr><tr class='param'><td class='param'>msgs: <a href='Array.html'>Array</a> </td><td>Error messages to send with the response.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='writeFile'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeFile(filename: <a href='Path.html'>Path</a>): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render file content back to the client. This call writes the given file contents back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>filename: <a href='Path.html'>Path</a> </td><td>Path to the filename to send to the client.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='writePartialTemplate'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writePartialTemplate(path: <a href='Path.html'>Path</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render a partial response using template file. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>path: <a href='Path.html'>Path</a> </td><td>Path to the template to render to the client.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Additional options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>layout</td><td>Optional layout template. Defaults to config.dirs.layouts/default.ejs.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeTemplate'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeTemplate(path: <a href='Path.html'>Path</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render a view template from a path. This call writes the result of running the view template file back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>path: <a href='Path.html'>Path</a> </td><td>Path to the view template to render and write to the client.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Additional options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>layout</td><td>Optional layout template. Defaults to config.dirs.layouts/default.ejs.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeTemplateLiteral'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeTemplateLiteral(page: <a href='String.html'>String</a>, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render a view template from a string literal. This call writes the result of running the view template file back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>page: <a href='String.html'>String</a> </td><td>String literal containing the view template to render and write to the client.</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Additional options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>layout</td><td>Path layout template. Defaults to config.dirs.layouts/default.ejs.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='writeView'></a>
<div class='api'>
<div class='apiSig'>  ejs.web  writeView(viewName = null, options: <a href='Object.html'>Object</a> = expression): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Render a view template. This call writes the result of running the view template file back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' title='parameters'>
<tr class='param'><td class='param'>viewName </td><td>Name of the view to render to the client. The view template filename will be constructed by  joining the views directory with the controller name and view name. E.g. views/Controller/list.ejs. [default: null]</td></tr><tr class='param'><td class='param'>options: <a href='Object.html'>Object</a> </td><td>Additional options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' title='options'>
<td class='param'>controller</td><td>Optional controller for the view.</td></tr>
<td class='param'>layout</td><td>Optional layout template. Defaults to config.dirs.layouts/default.ejs.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="https://www.embedthis.com/">       Embedthis Software LLC, 2003-2014. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
