<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>Class MprLog</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>MprLog</h1>
<div class='classBlock'>
<table class='classHead' summary='MprLog'>
   <tr><td><strong>Module</strong></td><td>ejs</td></tr>
   <tr><td><strong>Definition</strong></td><td> class MprLog</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>MprLog <img src='images/inherit.gif' alt='inherit'/> <a href='Object.html'>Object</a><tr><td><strong>Specified</strong></td><td>ejscript-2.0</td></tr>
<tr><td><strong>Stability</strong></td><td>Prototype.</td></tr>
       </td></tr>
</table>

<p class='classBrief'>The MprLog class manages the Application's internal MPR log mechanism.</p>

<p class='classDescription'>If the Application was started with a 
"--log" command line switch, the application will write log messages to the specified file, otherwise 
messages will be sent to the standard error console. The Application will have a single instance of the 
MprLog class created and stored in the App.mprLog property.<br/><br/>The Logger class can be used to create higher level logging filters and aggregators and use the MprLog as the
final output stream.</p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' summary='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='fixed'></a>
   <tr><td nowrap align='center'> get set </td><td>fixed</td><td><a href='Boolean.html'>Boolean</a></td><td>Is the MPR logging fixed. Set to true if the application logging has been fixed by a hosting environment or
if the application initiated logging via a command line --log switch.</td></tr>
<a name='level'></a>
   <tr><td nowrap align='center'> get set </td><td>level</td><td><a href='Number.html'>Number</a></td><td>The numeric verbosity setting (0-9) of this MprLog. Zero is least verbose, nine is the most verbose.
Messages with a lower (or equal) verbosity level than the MprLog's level are emitted.
WARNING: Changing the logging verbosity level will affect logging for all interpreters.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='ClassMethods'></a>
<h2 class='classSection'>MprLog Class Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <p>(No own class methods defined)</p></table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<a name='InstanceMethods'></a>
<h2 class='classSection'>MprLog Instance Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#emit'><b>emit</b></a>(level: <a href='Number.html'>Number</a>, data: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit messages to the MprLog stream at a given level.</td></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#redirect'><b>redirect</b></a>(location: <a href='String.html'>String</a>, level: <a href='Number.html'>Number</a> = null): <a href='Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Redirect log output.</td></tr>
   <tr class='apiDef'><td class='apiType'> </td><td><a href='#write'><b>write</b></a>(data: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write data to the stream.Write messages to the MprLog stream at level 0.</td></tr>
</table>

<p class='inheritedLink'><a href='Object.html#InstanceMethods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='emit'></a>
<div class='api'>
<div class='apiSig'>    emit(level: <a href='Number.html'>Number</a>, data: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Emit messages to the MprLog stream at a given level. </dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>level: <a href='Number.html'>Number</a> </td><td>Verbosity level at which to emit the message (0-9).</td></tr><tr class='param'><td class='param'>data: <a href='Array.html'>Array</a> </td><td>Data messages to emit.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='redirect'></a>
<div class='api'>
<div class='apiSig'>    redirect(location: <a href='String.html'>String</a>, level: <a href='Number.html'>Number</a> = null): <a href='Void.html'>Void</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Redirect log output. WARNING: Redirecting the logging output will redirect messages for all interpreters.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>location: <a href='String.html'>String</a> </td><td>Output location to send messages to.</td></tr><tr class='param'><td class='param'>level: <a href='Number.html'>Number</a> </td><td>Verbosity level for logging. [default: null]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='write'></a>
<div class='api'>
<div class='apiSig'>    write(data: <a href='Array.html'>Array</a>): <a href='Number.html'>Number</a>
</div>
<div class='apiDetail'>
<dl><dt>Description</dt></dd><dd>Write data to the stream.Write messages to the MprLog stream at level 0. If the stream can accept all the write data, the call returns immediately with the number of bytes written. 
If writing more data than the stream can absorb in sync mode, the call will block until the data is written.
If writing more data than the stream can absorb in async mode, the call will not block and will buffer the
data and return immediately. Some streams will require a <a href='#flush'>flush()</a> call to actually send the data.
A "writable" event will be issued when the stream can again absorb more data.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='Array.html'>Array</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes empty and it is ready to be written to.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A count of the bytes actually written.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='IOError.html'>IOError</a>: if there is an I/O error.
</dd>
</dl></div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="http://embedthis.com/">       Embedthis Software LLC, 2003-2012. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
